<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pax.plugins.signal_processing package &mdash; Processor for Analyzing XENON1T 2.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Processor for Analyzing XENON1T 2.1.0 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">Processor for Analyzing XENON1T 2.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pax-plugins-signal-processing-package">
<h1>pax.plugins.signal_processing package<a class="headerlink" href="#pax-plugins-signal-processing-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pax.plugins.signal_processing.BigPeakProcessing">
<span id="pax-plugins-signal-processing-bigpeakprocessing-module"></span><h2>pax.plugins.signal_processing.BigPeakProcessing module<a class="headerlink" href="#module-pax.plugins.signal_processing.BigPeakProcessing" title="Permalink to this headline">¶</a></h2>
<p>Plugins for computing properties of peaks that have been found</p>
<dl class="class">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.ClassifyBigPeaks">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.BigPeakProcessing.</tt><tt class="descname">ClassifyBigPeaks</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#ClassifyBigPeaks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.ClassifyBigPeaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<dl class="method">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.ClassifyBigPeaks.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#ClassifyBigPeaks.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.ClassifyBigPeaks.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.ComputePeakAreasAndCoincidence">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.BigPeakProcessing.</tt><tt class="descname">ComputePeakAreasAndCoincidence</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#ComputePeakAreasAndCoincidence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.ComputePeakAreasAndCoincidence" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<dl class="method">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.ComputePeakAreasAndCoincidence.startup">
<tt class="descname">startup</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#ComputePeakAreasAndCoincidence.startup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.ComputePeakAreasAndCoincidence.startup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.ComputePeakAreasAndCoincidence.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#ComputePeakAreasAndCoincidence.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.ComputePeakAreasAndCoincidence.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.ComputePeakEntropies">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.BigPeakProcessing.</tt><tt class="descname">ComputePeakEntropies</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#ComputePeakEntropies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.ComputePeakEntropies" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<dl class="method">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.ComputePeakEntropies.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#ComputePeakEntropies.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.ComputePeakEntropies.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.ComputePeakWidths">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.BigPeakProcessing.</tt><tt class="descname">ComputePeakWidths</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#ComputePeakWidths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.ComputePeakWidths" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<p>Does what it says on the tin</p>
<dl class="method">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.ComputePeakWidths.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#ComputePeakWidths.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.ComputePeakWidths.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.DeleteSmallPeaks">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.BigPeakProcessing.</tt><tt class="descname">DeleteSmallPeaks</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#DeleteSmallPeaks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.DeleteSmallPeaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<p>Deletes low coincidence peaks, so the low-energy peakfinder can have a crack at them</p>
<dl class="method">
<dt id="pax.plugins.signal_processing.BigPeakProcessing.DeleteSmallPeaks.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakProcessing.html#DeleteSmallPeaks.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakProcessing.DeleteSmallPeaks.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pax.plugins.signal_processing.BigPeakfinder">
<span id="pax-plugins-signal-processing-bigpeakfinder-module"></span><h2>pax.plugins.signal_processing.BigPeakfinder module<a class="headerlink" href="#module-pax.plugins.signal_processing.BigPeakfinder" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.plugins.signal_processing.BigPeakfinder.FindBigPeaks">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.BigPeakfinder.</tt><tt class="descname">FindBigPeaks</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakfinder.html#FindBigPeaks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakfinder.FindBigPeaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<p>Find peaks in intervals above threshold in the sum waveform
This type of peakfinding is only reliable for peaks &gt;&gt; 1pe
(unless you have no noise, or use a battery of peak shape &amp; isolation tests)</p>
<p>If the low-energy peakfinder is good, this can be drastically simplified,
e.g. we could just do one pass at the filtered waveform, large S1s should trigger this too.</p>
<dl class="method">
<dt id="pax.plugins.signal_processing.BigPeakfinder.FindBigPeaks.peaks_and_valleys">
<tt class="descname">peaks_and_valleys</tt><big>(</big><em>signal</em>, <em>test_function</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakfinder.html#FindBigPeaks.peaks_and_valleys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakfinder.FindBigPeaks.peaks_and_valleys" title="Permalink to this definition">¶</a></dt>
<dd><p>Find peaks and valleys based on derivative sign changes
:param signal: signal to search in
:param test_function: Function which accepts three args:</p>
<blockquote>
<div><blockquote>
<div><ul class="simple">
<li>signal, signal begin tested</li>
<li>peak, index of peak</li>
<li>valley, index of valley</li>
</ul>
</div></blockquote>
<p>must return True if peak/valley pair is acceptable, else False</p>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">two sorted numpy arrays: peaks, valleys</td>
</tr>
</tbody>
</table>
<p>The peaks always occur before the valleys.</p>
</dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.BigPeakfinder.FindBigPeaks.startup">
<tt class="descname">startup</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakfinder.html#FindBigPeaks.startup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakfinder.FindBigPeaks.startup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.BigPeakfinder.FindBigPeaks.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BigPeakfinder.html#FindBigPeaks.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BigPeakfinder.FindBigPeaks.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pax.plugins.signal_processing.BuildWaveforms">
<span id="pax-plugins-signal-processing-buildwaveforms-module"></span><h2>pax.plugins.signal_processing.BuildWaveforms module<a class="headerlink" href="#module-pax.plugins.signal_processing.BuildWaveforms" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.plugins.signal_processing.BuildWaveforms.BuildWaveforms">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.BuildWaveforms.</tt><tt class="descname">BuildWaveforms</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BuildWaveforms.html#BuildWaveforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BuildWaveforms.BuildWaveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<dl class="docutils">
<dt>Waveforms that will be built:</dt>
<dd>tpc
top
bottom
NAME for each external detector named NAME (usually only the veto)</dd>
<dt>for Xerawdp matching also:</dt>
<dd>uS1
uS2</dd>
</dl>
<dl class="method">
<dt id="pax.plugins.signal_processing.BuildWaveforms.BuildWaveforms.startup">
<tt class="descname">startup</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BuildWaveforms.html#BuildWaveforms.startup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BuildWaveforms.BuildWaveforms.startup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.BuildWaveforms.BuildWaveforms.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/BuildWaveforms.html#BuildWaveforms.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.BuildWaveforms.BuildWaveforms.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pax.plugins.signal_processing.Filtering">
<span id="pax-plugins-signal-processing-filtering-module"></span><h2>pax.plugins.signal_processing.Filtering module<a class="headerlink" href="#module-pax.plugins.signal_processing.Filtering" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.plugins.signal_processing.Filtering.Filtering">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.Filtering.</tt><tt class="descname">Filtering</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/Filtering.html#Filtering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.Filtering.Filtering" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<dl class="staticmethod">
<dt id="pax.plugins.signal_processing.Filtering.Filtering.butter_bandpass">
<em class="property">static </em><tt class="descname">butter_bandpass</tt><big>(</big><em>lowcut</em>, <em>highcut</em>, <em>fs</em>, <em>order=5</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/Filtering.html#Filtering.butter_bandpass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.Filtering.Filtering.butter_bandpass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.Filtering.Filtering.startup">
<tt class="descname">startup</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/Filtering.html#Filtering.startup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.Filtering.Filtering.startup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.Filtering.Filtering.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/Filtering.html#Filtering.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.Filtering.Filtering.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pax.plugins.signal_processing.OldPeakFinder">
<span id="pax-plugins-signal-processing-oldpeakfinder-module"></span><h2>pax.plugins.signal_processing.OldPeakFinder module<a class="headerlink" href="#module-pax.plugins.signal_processing.OldPeakFinder" title="Permalink to this headline">¶</a></h2>
<p>This code imitates the peakfinding of Xerawdp (the Xenon100 processor)
Its only purpose is to show we understand Xerawdp enough to be able to reproduce it,
it is not meant to replace Xerawdp, nor to be used unmodified by Xenon1T or any experiment.</p>
<dl class="class">
<dt id="pax.plugins.signal_processing.OldPeakFinder.ComputePeakPropertiesXdpStyle">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.OldPeakFinder.</tt><tt class="descname">ComputePeakPropertiesXdpStyle</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#ComputePeakPropertiesXdpStyle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.ComputePeakPropertiesXdpStyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<p>Compute various derived quantities of each peak (full width half maximum, etc.)</p>
<dl class="method">
<dt id="pax.plugins.signal_processing.OldPeakFinder.ComputePeakPropertiesXdpStyle.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#ComputePeakPropertiesXdpStyle.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.ComputePeakPropertiesXdpStyle.transform_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Only computes area for Xerawdp matching at the moment</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pax.plugins.signal_processing.OldPeakFinder.FindPeaksXeRawDPStyle">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.OldPeakFinder.</tt><tt class="descname">FindPeaksXeRawDPStyle</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#FindPeaksXeRawDPStyle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.FindPeaksXeRawDPStyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<p>NB: Does NOT do veto peakfinding!!!</p>
<dl class="method">
<dt id="pax.plugins.signal_processing.OldPeakFinder.FindPeaksXeRawDPStyle.find_peaks_in">
<tt class="descname">find_peaks_in</tt><big>(</big><em>event</em>, <em>peak_type</em>, <em>signal</em>, <em>settings</em>, <em>left_boundary</em>, <em>right_boundary</em>, <em>toplevel=False</em>, <em>max_idx=None</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#FindPeaksXeRawDPStyle.find_peaks_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.FindPeaksXeRawDPStyle.find_peaks_in" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.OldPeakFinder.FindPeaksXeRawDPStyle.isolation_test">
<tt class="descname">isolation_test</tt><big>(</big><em>signal</em>, <em>max_idx</em>, <em>right_edge_of_left_test_region</em>, <em>test_length_left</em>, <em>left_edge_of_right_test_region</em>, <em>test_length_right</em>, <em>before_avg_max_ratio</em>, <em>after_avg_max_ratio</em>, <em>can_fail_one=False</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#FindPeaksXeRawDPStyle.isolation_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.FindPeaksXeRawDPStyle.isolation_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Does XerawDP&#8217;s arcane isolation test. Returns if test is passed or not.
NB: edge = first index IN region to test!
TODO: Regions seem to come out empty sometimes, which triggers a numpy runtiome warning (only once though..)</p>
<p>If you compare the isolation test intervals with xerawdp, it looks like ours are too large.
In reality, Xerawdp&#8217;s math is off, and we are testing the same intervals.</p>
</dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.OldPeakFinder.FindPeaksXeRawDPStyle.nearest_s2_boundary">
<tt class="descname">nearest_s2_boundary</tt><big>(</big><em>event</em>, <em>peak_position</em>, <em>edge_position</em>, <em>direction</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#FindPeaksXeRawDPStyle.nearest_s2_boundary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.FindPeaksXeRawDPStyle.nearest_s2_boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the nearest s2 boundary according to arcane Xerawdp rules</p>
</dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.OldPeakFinder.FindPeaksXeRawDPStyle.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#FindPeaksXeRawDPStyle.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.FindPeaksXeRawDPStyle.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pax.plugins.signal_processing.OldPeakFinder.extent_until_threshold">
<tt class="descclassname">pax.plugins.signal_processing.OldPeakFinder.</tt><tt class="descname">extent_until_threshold</tt><big>(</big><em>signal</em>, <em>start</em>, <em>threshold</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#extent_until_threshold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.extent_until_threshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pax.plugins.signal_processing.OldPeakFinder.find_next_crossing">
<tt class="descclassname">pax.plugins.signal_processing.OldPeakFinder.</tt><tt class="descname">find_next_crossing</tt><big>(</big><em>signal</em>, <em>threshold</em>, <em>start=0</em>, <em>direction='right'</em>, <em>min_length=1</em>, <em>stop=None</em>, <em>stop_if_start_exceeded=False</em>, <em>activate_xerawdp_hacks_for=None</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#find_next_crossing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.find_next_crossing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns first index in signal crossing threshold, searching from start in direction
A &#8216;crossing&#8217; is defined as a point where:</p>
<blockquote>
<div>start_sample &lt; threshold &lt; this_sample OR start_sample &gt; threshold &gt; this_sample</div></blockquote>
<p>Arguments:
signal            &#8211;  List of signal samples to search in
threshold         &#8211;  Threshold defining crossings
start             &#8211;  Index to start search from: defaults to 0
direction         &#8211;  Direction to search in: &#8216;right&#8217; (default) or &#8216;left&#8217;
min_length        &#8211;  Crossing only counts if stays above/below threshold for min_length</p>
<blockquote>
<div>Default: 1, i.e, a single sample on other side of threshold counts as a crossing
The first index where a crossing happens is still returned.</div></blockquote>
<p>stop_at           &#8211;  Stops search when this index is reached, THEN RETURNS THIS INDEX!!!
#Hack for Xerawdp matching:
stop_if_start_exceeded      &#8211; If true and a value HIGHER than start is encountered, stop immediately
activate_xerawdp_hacks_for  &#8211; Activates several hacks, for instance, slope checking for large s2</p>
<p>This is a pretty crucial function for several DSP routines; as such, it does extensive checking for
pathological cases. Please be very careful in making changes to this function, their effects could
be felt in unexpected ways in many places.</p>
<p>TODO: add lots of tests!!!
TODO: Allow specification of where start_sample should be (below or above treshold),</p>
<blockquote>
<div><dl class="docutils">
<dt>only use to throw error if it is not true? Or see start as starting crossing?</dt>
<dd><dl class="first last docutils">
<dt>-&gt; If latter, can outsource to new function: find_next_crossing_above &amp; below</dt>
<dd>(can be two lines or so, just check start)</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>TODO: Allow user to specify that finding a crossing is mandatory / return None when none found?</p>
</dd></dl>

<dl class="function">
<dt id="pax.plugins.signal_processing.OldPeakFinder.interval_until_threshold">
<tt class="descclassname">pax.plugins.signal_processing.OldPeakFinder.</tt><tt class="descname">interval_until_threshold</tt><big>(</big><em>signal</em>, <em>start</em>, <em>left_threshold</em>, <em>right_threshold=None</em>, <em>left_limit=0</em>, <em>right_limit=None</em>, <em>min_crossing_length=1</em>, <em>stop_if_start_exceeded=False</em>, <em>activate_xerawdp_hacks_for=None</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#interval_until_threshold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.interval_until_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns (l,r) indices of largest interval including start on same side of threshold
... .bla... bla</p>
</dd></dl>

<dl class="function">
<dt id="pax.plugins.signal_processing.OldPeakFinder.sort_and_prune_by">
<tt class="descclassname">pax.plugins.signal_processing.OldPeakFinder.</tt><tt class="descname">sort_and_prune_by</tt><big>(</big><em>peak_list</em>, <em>key=&lt;function &lt;lambda&gt; at 0x10716d8c8&gt;</em>, <em>keep_number=inf</em>, <em>reverse=False</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/OldPeakFinder.html#sort_and_prune_by"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.OldPeakFinder.sort_and_prune_by" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pax.plugins.signal_processing.SmallPeakProcessing">
<span id="pax-plugins-signal-processing-smallpeakprocessing-module"></span><h2>pax.plugins.signal_processing.SmallPeakProcessing module<a class="headerlink" href="#module-pax.plugins.signal_processing.SmallPeakProcessing" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.plugins.signal_processing.SmallPeakProcessing.AdHocClassification">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.SmallPeakProcessing.</tt><tt class="descname">AdHocClassification</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/SmallPeakProcessing.html#AdHocClassification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.SmallPeakProcessing.AdHocClassification" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<dl class="method">
<dt id="pax.plugins.signal_processing.SmallPeakProcessing.AdHocClassification.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/SmallPeakProcessing.html#AdHocClassification.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.SmallPeakProcessing.AdHocClassification.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pax.plugins.signal_processing.SmallPeakProcessing.ClusterSmallPeaks">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.SmallPeakProcessing.</tt><tt class="descname">ClusterSmallPeaks</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/SmallPeakProcessing.html#ClusterSmallPeaks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.SmallPeakProcessing.ClusterSmallPeaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<p>Clusters individual channel peaks into groups, and labels them as noise / lone_pulse / unknown
&#8216;unknown&#8217; means an S1 or S2, which will be decided by a later plugin</p>
<dl class="method">
<dt id="pax.plugins.signal_processing.SmallPeakProcessing.ClusterSmallPeaks.startup">
<tt class="descname">startup</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/SmallPeakProcessing.html#ClusterSmallPeaks.startup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.SmallPeakProcessing.ClusterSmallPeaks.startup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.SmallPeakProcessing.ClusterSmallPeaks.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/SmallPeakProcessing.html#ClusterSmallPeaks.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.SmallPeakProcessing.ClusterSmallPeaks.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pax.plugins.signal_processing.SmallPeakfinder">
<span id="pax-plugins-signal-processing-smallpeakfinder-module"></span><h2>pax.plugins.signal_processing.SmallPeakfinder module<a class="headerlink" href="#module-pax.plugins.signal_processing.SmallPeakfinder" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.plugins.signal_processing.SmallPeakfinder.FindSmallPeaks">
<em class="property">class </em><tt class="descclassname">pax.plugins.signal_processing.SmallPeakfinder.</tt><tt class="descname">FindSmallPeaks</tt><big>(</big><em>config_values</em>, <em>processor</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/SmallPeakfinder.html#FindSmallPeaks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.SmallPeakfinder.FindSmallPeaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pax.html#pax.plugin.TransformPlugin" title="pax.plugin.TransformPlugin"><tt class="xref py py-class docutils literal"><span class="pre">pax.plugin.TransformPlugin</span></tt></a></p>
<dl class="method">
<dt id="pax.plugins.signal_processing.SmallPeakfinder.FindSmallPeaks.find_peaks">
<tt class="descname">find_peaks</tt><big>(</big><em>w</em>, <em>noise_sigma</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/SmallPeakfinder.html#FindSmallPeaks.find_peaks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.SmallPeakfinder.FindSmallPeaks.find_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all peaks at least self.min_sigma * noise_sigma above baseline.
Peak boundaries are last samples above noise_sigma
:param w: waveform to check for peaks
:param noise_sigma: noise level
:return: peaks as list of (left_index, max_index, right_index) tuples</p>
</dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.SmallPeakfinder.FindSmallPeaks.samples_without_peaks">
<tt class="descname">samples_without_peaks</tt><big>(</big><em>w</em>, <em>peaks</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/SmallPeakfinder.html#FindSmallPeaks.samples_without_peaks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.SmallPeakfinder.FindSmallPeaks.samples_without_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return array of bools of same size as w, True if none of peaks live there</p>
</dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.SmallPeakfinder.FindSmallPeaks.startup">
<tt class="descname">startup</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/SmallPeakfinder.html#FindSmallPeaks.startup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.SmallPeakfinder.FindSmallPeaks.startup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pax.plugins.signal_processing.SmallPeakfinder.FindSmallPeaks.transform_event">
<tt class="descname">transform_event</tt><big>(</big><em>event</em><big>)</big><a class="reference internal" href="_modules/pax/plugins/signal_processing/SmallPeakfinder.html#FindSmallPeaks.transform_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.plugins.signal_processing.SmallPeakfinder.FindSmallPeaks.transform_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pax.plugins.signal_processing">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pax.plugins.signal_processing" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pax.plugins.signal_processing package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pax.plugins.signal_processing.BigPeakProcessing">pax.plugins.signal_processing.BigPeakProcessing module</a></li>
<li><a class="reference internal" href="#module-pax.plugins.signal_processing.BigPeakfinder">pax.plugins.signal_processing.BigPeakfinder module</a></li>
<li><a class="reference internal" href="#module-pax.plugins.signal_processing.BuildWaveforms">pax.plugins.signal_processing.BuildWaveforms module</a></li>
<li><a class="reference internal" href="#module-pax.plugins.signal_processing.Filtering">pax.plugins.signal_processing.Filtering module</a></li>
<li><a class="reference internal" href="#module-pax.plugins.signal_processing.OldPeakFinder">pax.plugins.signal_processing.OldPeakFinder module</a></li>
<li><a class="reference internal" href="#module-pax.plugins.signal_processing.SmallPeakProcessing">pax.plugins.signal_processing.SmallPeakProcessing module</a></li>
<li><a class="reference internal" href="#module-pax.plugins.signal_processing.SmallPeakfinder">pax.plugins.signal_processing.SmallPeakfinder module</a></li>
<li><a class="reference internal" href="#module-pax.plugins.signal_processing">Module contents</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/pax.plugins.signal_processing.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">Processor for Analyzing XENON1T 2.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Christopher Tunnell.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>