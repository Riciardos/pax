<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Event builder &mdash; Processor for Analyzing XENON1T 4.3.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Processor for Analyzing XENON1T 4.3.0 documentation" href="index.html" />
    <link rel="next" title="Waveform simulator docs" href="simulator.html" />
    <link rel="prev" title="Plugins" href="plugin.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="event-builder">
<h1>Event builder<a class="headerlink" href="#event-builder" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pax.eventbuilder">
<span id="core-routines"></span><h2>Core routines<a class="headerlink" href="#module-pax.eventbuilder" title="Permalink to this headline">¶</a></h2>
<p>Event builder routines</p>
<p>The event builder is responsible for finding events within the DAQ output
stream and turning this into events that the end user can process.  The data is
fetched untriggered, which means that there is no event structure.  Or rather,
it is just a stream of PMT pulses that need to be assembled into events.  This
is exactly what this code does.  There are two inputs requires:</p>
<ul class="simple">
<li>Location of runs database</li>
<li>Trigger settings</li>
</ul>
<dl class="docutils">
<dt>This code is meant to run in production, therefore a runs database must be</dt>
<dd>provided.  This code will use this database to locate what data needs to be
processed and handle it appropriately.</dd>
</dl>
<p>This code is also responsible triggering (i.e., deciding which events to
record).  At present there are two stages to the triggering: a pretrigger and
a pax-event trigger.  The pretrigger is a simple sliding window coincidence
trigger that runs over the data to identify possible signals.  The parameters
of this are then, clearly, the size of the window and the coincidence
requirement.  Another parameter is how much data to save around the discovered
peak, which often is an S2.</p>
<p>The second level trigger, which we often do not run, processed the event in pax
and is used to make, e.g., radial cuts.  At present, the code just writes HDF5
files.</p>
<p>It is worth mentioning that is an &#8216;expert modes&#8217; with a flag for mega events:
an event of one second is made that can be used for computing the trigger
efficiency.</p>
<p>The entry point to this code is typically via bin/event-builder.</p>
<dl class="function">
<dt id="pax.eventbuilder.authenticate">
<code class="descclassname">pax.eventbuilder.</code><code class="descname">authenticate</code><span class="sig-paren">(</span><em>client</em>, <em>database_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/eventbuilder.html#authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.eventbuilder.authenticate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pax.eventbuilder.handle_args">
<code class="descclassname">pax.eventbuilder.</code><code class="descname">handle_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/eventbuilder.html#handle_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.eventbuilder.handle_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Command line argument processing</p>
<p>This routine is also responsible for setting up logging.</p>
</dd></dl>

<dl class="function">
<dt id="pax.eventbuilder.run">
<code class="descclassname">pax.eventbuilder.</code><code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/eventbuilder.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.eventbuilder.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Start running the event builder</p>
<p>Find a dataset to process, then process it with settings from command line.</p>
</dd></dl>

</div>
<div class="section" id="mongodb-interface">
<h2>MongoDB interface<a class="headerlink" href="#mongodb-interface" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Event builder</a><ul>
<li><a class="reference internal" href="#module-pax.eventbuilder">Core routines</a></li>
<li><a class="reference internal" href="#mongodb-interface">MongoDB interface</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="plugin.html" title="previous chapter">Plugins</a></li>
      <li>Next: <a href="simulator.html" title="next chapter">Waveform simulator docs</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/eventbuilder.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014, Christopher Tunnell.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/eventbuilder.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>