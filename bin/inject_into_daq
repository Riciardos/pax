#!/usr/bin/env python
from pax import pax

collection = 'dataset'
address = "127.0.0.1:27017"


config_overload = """
[pax]
input = 'XED.XedInput'
#input = 'fax.FaX'

dsp = []
transform = []
output = ['MongoDB.MongoDBFakeDAQOutput',
          #'Plotting.PlotWaveform',
         ]

[MongoDB.MongoDBFakeDAQOutput]
database = 'input'
collection = "%s"
address = "%s"
""" % (collection, address)

if __name__ == '__main__':
    import pymongo

    c = pymongo.Connection(address)
    c['input'].drop_collection(collection)
    c['output'].drop_collection(collection)

    pax.processor(config_overload)
